{% extends 'layout.html' %}
<!-- styleblock -->
{% block style %}
<link rel="stylesheet" href="login.css" />
<!-- end style -->
{% endblock %}
<!-- content block -->
{% block content %} {% if user and user.id %}
<h1>로그인 된 상태입니다.</h1>
{% else %}
<div class="login-container">
  <form id="login-form" action="auth/login" method="post">
    <fieldset class="login-fieldset">
      <legend>로그인</legend>
      <div class="mainLogin">
        <div class="snslogin">
          <button type="button" class="login-sns-btn">
            <a id="kakao" href="/auth/kakao" class="btn">카카오톡</a>
          </button>
          <button type="button" class="login-sns-btn">
            <a id="google" href="/auth/google" class="btn">구글</a>
          </button>
        </div>
        <div class="locallogin">
          <div class="inputgroup">
            <label class="login-label" for="userid">아이디</label>
            <input id="userid" type="text" name="userid" required autofocus />
          </div>
          <div class="inputgroup">
            <label class="login-label" for="userpwd">비밀번호</label>
            <input id="userpwd" type="password" name="userpwd" required />
          </div>
          <button id="login" type="submit" class="btn">로그인</button>
        </div>
      </div>
      <div class="subLogin">
        <div class="join">
          <h5>
            아직 회원이 아니신가요?
            <span><a id="join" href="/join" class="btn">회원가입</a></span>
          </h5>
        </div>
        <div class="idpwdFind">
          <a href="/findidpwd">아이디/비밀번호 찾기</a>
        </div>
      </div>
    </fieldset>
  </form>
</div>
{% endif %}
<!-- 블럭 끝 -->
{% endblock %} {% block script %}
<script src="https://unpkg.com/axios/dist/axios.min.js"></script>
<script>
  window.onload = () => {
    if (new URL(location.href).searchParams.get("loginError")) {
      alert(new URL(location.href).searchParams.get("loginError"));
    }
  };
</script>
{% endblock %}
