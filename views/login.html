<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
        <style>
            form {
                width: 500px;
            }

            .mainLogin,
            .subLogin {
                display: flex;
                justify-content: space-between;
            }

            #login {
                width: 250px;
                height: 40px;
                cursor: pointer;
            }

            button {
                display: block;
            }
        </style>
    </head>

    <body>
        {% if user and user.id %}
        <h1>로그인 된 상태입니다.</h1>
        {% else %}
        <header></header>
        <form id="login-form" action="auth/login" method="post">
            <fieldset>
                <legend>로그인하기</legend>
                <div class="mainLogin">
                    <div class="snslogin">
                        <button type="button">
                            <a id="kakao" href="/auth/kakao" class="btn"
                                >카카오톡</a
                            >
                        </button>
                        <button type="button">
                            <a id="#" href="#" class="btn">구글</a>
                        </button>
                    </div>
                    <div class="locallogin">
                        <div class="inputgroup">
                            <label for="userid">아이디</label>
                            <input
                                id="userid"
                                type="text"
                                name="userid"
                                required
                                autofocus
                            />
                        </div>
                        <div class="inputgroup">
                            <label for="userpwd">비밀번호</label>
                            <input
                                id="userpwd"
                                type="password"
                                name="userpwd"
                                required
                            />
                        </div>
                        <button id="login" type="submit" class="btn">
                            로그인
                        </button>
                    </div>
                </div>
                <div class="subLogin">
                    <div class="join">
                        <h5>
                            아직 회원이 아니신가요?
                            <span
                                ><a id="join" href="/join" class="btn"
                                    >회원가입</a
                                ></span
                            >
                        </h5>
                    </div>
                    <div class="idpwdFind">
                        <a href="/findidpwd">아이디/비밀번호 찾기</a>
                    </div>
                </div>
            </fieldset>
        </form>
        {% endif %}
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <script>
            window.onload = () => {
                if (new URL(location.href).searchParams.get("loginError")) {
                    alert(
                        new URL(location.href).searchParams.get("loginError")
                    );
                }
            };
        </script>
    </body>
</html>
